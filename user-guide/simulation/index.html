<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Simulation - hamopy - Heat, Air and Moisture transfer in Python</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">hamopy - Heat, Air and Moisture transfer in Python</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">User guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../inputs/">Input definition</a>
                        </li>
                    
                        <li >
                            <a href="../materials/">Materials</a>
                        </li>
                    
                        <li >
                            <a href="../boundary/">Boundary conditions</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Simulation</a>
                        </li>
                    
                        <li >
                            <a href="../library/">Library</a>
                        </li>
                    
                        <li >
                            <a href="../post-processing/">Post-processing</a>
                        </li>
                    
                        <li >
                            <a href="../example/">Example</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../about/author/">Author</a>
                        </li>
                    
                        <li >
                            <a href="../../about/license/">License</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../boundary/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../library/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/srouchier/hamopy">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#running-a-simulation">Running a simulation</a></li>
        
            <li><a href="#options">Options</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="running-a-simulation">Running a simulation</h1>
<p>Let's say you have correctly defined all conditions of the simulation by reading <a href="../inputs/">this helpful page</a>. All you need to do now is import the main algorithm and run it</p>
<pre><code>from hamopy.algorithm import calcul

results = calcul(mesh, clim, init, time)
</code></pre>
<p>The rest is <a href="../post-processing/">post-processing</a>.</p>
<h2 id="options">Options</h2>
<p>The syntax for calling the simulation may be slightly modified for three purposes: choosing the type of output, keeping a record of the simulation process, or simulate thermal transfer only.</p>
<h3 id="output-type">Output type</h3>
<p>The <code>calcul()</code> method normally returns a dictionary storing all necessary data for <a href="../post-processing/">post-processing</a>. Another available option is to save this data into a file in the uncompressed .npz format</p>
<pre><code>from hamopy.algorithm import calcul

calcul(mesh, clim, init, time, output_type = 'file')
</code></pre>
<p>This will create a file called <code>hamopy_output.npz</code> in the working directory. This method of output selection can be customised by modifying the <code>algorithm</code> module.</p>
<h3 id="diary">Diary</h3>
<p>Should you encounter convergence difficulties, you may want the algorithm to store its progress somewhere so you may locate the problems. The <code>calcul()</code> method may take an additional argument for this purpose:</p>
<pre><code>from hamopy.algorithm import calcul

diary = 'file_name'

results = calcul(mesh, clim, init, time, logfile = diary)
</code></pre>
<p>This will create a file at the specified location, on which the record of the convergence criteria will be saved.</p>
<h3 id="heat-transfer-only">Heat transfer only</h3>
<p>The code is initially designed for coupled heat and moisture transfer, but the user may want to skip the humidity and only calculate heat. This is done through an alternate version of the algorithm:</p>
<pre><code>from hamopy.algorithm import calcul_thermo

results = calcul_thermo(mesh, clim, init, time)
</code></pre>
<p>This should run about 4 times faster than coupled heat and mass transfer.</p>
<p><a href="../..">Documentation main page</a></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>